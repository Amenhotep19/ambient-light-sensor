<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Ambient Light Sensor</title>
    <style>
    .darkLight{
        color: #8cabd9;
        background-color: #0a244d;
      }
      
     .brightLight{
        background-color: #eef4f7;
        color: #0a244d;
      }
    </style>
  </head>
  <body class="brightLight">
    <h1>Ambient Light Sensor</h1>
    <p>Current Light Levels</p>
    <div id="details"></div>  
  </body>
  <script>

    if (window.AmbientLightSensor){
        try{
          const sensor = new AmbientLightSensor();
          const details = document.getElementById("details");
          const body = document.getElementById("body");

          // Detect changes in the light
          sensor.onreading = () => {
            details.innerHTML += sensor.illuminance;
            
              if (sensor.illuminance < 50) {
                body.classList.add('darklight');
                body.classList.remove('brightlight');
              } else {
                body.classList.add('brightlight');
                body.classList.remove('darklight');
              }
          }
          
          // Has an error occured?
          sensor.onerror = event => document.getElementById("details").innerHTML = event.error.message;
          sensor.start();
        } catch(err) {
          document.getElementById("details").innerHTML += err.message;
        }
    }

  </script>
</html>
